{% extends "layout.html"%}

{% block content %}
<!-- Contact Section -->
<section class="page-section" id="Eventi">
        <div class="container">
    
          <!-- Contact Section Heading -->
          <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Eventi</h2>
    
          <!-- Icon Divider -->
          <div class="divider-custom">
            <div class="divider-custom-line"></div>
            <div class="divider-custom-icon">
              <i class="fas fa-star"></i>
            </div>
            <div class="divider-custom-line"> </div>
          </div>

          <div class="container" id="app">
            <h3>Eventi</h3>
            <li v-for="dogadaji in info" class="dogadaji">
               Datum: [[ dogadaji.datum ]], 
               Vrijeme: [[ dogadaji.vrijeme ]], 
               Opis: [[ dogadaji.opis ]]
               Lokacija: [[ dogadaji.lokacija ]], 
            </li>
          </div>
          <div>
              <a class="btn btn-success" href="/Eventi/dodaj">dodaj novog</a>
          </div>
          
      </section>
{% endblock %} 

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>
<script>
  var vm = new Vue({
    el: "#app",
    delimiters: ['[[',']]'],
    data () {
      return{
        info: []
      }   
    },
    mounted () {
      axios
      .get('http://127.0.0.1:5000/eventi')
      .then(response => (this.info = response.data.event))
    },
    
  })
</script>
{% endblock %} 